\documentclass[german]{beamer}

\newcommand{\GPG}{\textsc{gpg}}
\newcommand{\SBCL}{\textsc{sbcl}}
\newcommand{\GENNF}{\textsc{gennf}}
\newcommand{\METACVS}{\textsc{metacvs}}
\newcommand{\CVS}{\textsc{cvs}}
\newcommand{\DARCS}{\textsc{darcs}}
\newcommand{\GNUARCH}{\textsc{gnu\,arch}}
\newcommand{\MERCURIAL}{\textsc{mercurial}}
\newcommand{\SVK}{\textsc{svk}}
\newcommand{\LISP}{\textsc{lisp}}
\newcommand{\COMMONLISP}{\textsc{common lisp}}
\newcommand{\LIBGPGME}{\textsc{libgpgme}}
\newcommand{\OSICAT}{\textsc{osicat}}
\newcommand{\PORTPATH}{\textsc{portpath}}

\usepackage{babel}
\usetheme{Rochester}
\usefonttheme{serif}

\usecolortheme[RGB={120,0,16}]{structure}
\setbeamertemplate{navigation symbols}{}

\setbeamertemplate{footline}{
  \setbeamercolor{footer}{fg=white,bg=structure}
  \begin{beamercolorbox}{footer}
    \vskip2pt
    \hspace{1em}Infrastrukturen zur Open Source Softwareentwicklung\hfill
    \insertframenumber\,/\,\inserttotalframenumber\hspace{1em}
    \vskip2pt
  \end{beamercolorbox}
}

\author{Fabian~Otto~{\scriptsize (\texttt{sigsegv@cs.tu-berlin.de})}
  \and Hannes~Mehnert~{\scriptsize (\texttt{mehnert@cs.tu-berlin.de})}
  \and Florian~Lorenzen~{\scriptsize (\texttt{florenz@cs.tu-berlin.de})}}

\title{\GENNF}
\subtitle{Verteiltes Versionsmanagement mit Code Signierung}
\institute{TU~Berlin, FG Formale Modelle, Logik und Programmierung, \\
Infrastrukturen zur Open Source Softwareentwicklung WS05/06 \\
Bernd Mahr, Steffen Evers}
\date{31.~Januar~2006}

\begin{document}

\AtBeginSection[] {
  \begin{frame}
    \frametitle{"Ubersicht}
    \tableofcontents[currentsection]
  \end{frame}
}

\AtBeginSubsection[] {
  \begin{frame}
    \frametitle{"Ubersicht}
    \tableofcontents[currentsubsection]
  \end{frame}
}

\frame[plain]{\titlepage}

\begin{frame}
  \frametitle{"Ubersicht}
  \tableofcontents



\end{frame}

\section{Idee}

\begin{frame}
  \frametitle{Zielsetzung}

  \begin{block}{Verifikation der Herkunft des verwalteten Codes}
    \begin{itemize}
    \item Bisher mu"s dem Repository Server vertraut werden
    \item Code soll vertrauensw"urdig sein, durch Signaturen von Entwicklern
    \end{itemize}
  \end{block}
  \begin{block}{Dezentrale Repositories}
    \begin{itemize}
    \item Anpassung der Repository- an die Arbeitsstruktur des
      Projektes
    \item Keine vollst"andige Replikation von Repositories
      $\rightarrow$ Vernetzung durch Links
    \item Einfaches Verzweigen und Zusammenf"uhren von
      Entwicklungslinien
    \end{itemize}
  \end{block}
\end{frame}

\begin{frame}
  %% \frametitle{Umfeld/existierende L"osungen}
  \frametitle{\CVS, \DARCS, \GNUARCH, \MERCURIAL, \SVK, \METACVS}
  % \begin{itemize}
  % \item
  % \end{itemize}
  \begin{block}{Verteilung}
    \begin{itemize}
    \item Verteilung
    \item Benutzung vorhandener Infrastruktur (SourceForge, BerliOS,
      \ldots)
    \item Portabilit"at
    \end{itemize}
  \end{block}
  \begin{block}{Signierung}
    \begin{itemize}
    \item Signierung von Sourcecode
    \item Buchpr"ufung von Sourcecode (Auditing)
    \end{itemize}
  \end{block}
  
  % \begin{block}{Verteilung}
  %   \begin{itemize}
  %   \item Zumeist vollst"andige Replikation des Repositories
  %   \item Keine Vernetzung?
  %   \item vorhandene Infrastrukturen nicht immer genutzt.
  %   \end{itemize}
  % \end{block}
  % \begin{block}{Signierung}
  %   \begin{itemize}
  %   \item Darcs (mail)
  %   \item GNU Arch (Repositories)
  %   \end{itemize}
  % \end{block}
\end{frame}

\begin{frame}
  \frametitle{\METACVS}
  \begin{block}{Verzeichnisversionierung in \CVS}
    \begin{itemize}
    \item Wird durch \METACVS gel"ost
    \item Abspeicherung einer flachen Struktur (F-files)
    \item Verzeichnishierarchie wird "uber separate Abblidung
      gespeichert
    \item Clientseitige Erweiterung, ben"otigt \CVS{} als Backend
      $\rightarrow$ gute Verf"ugbarkeit
    \item \emph{Diese Ideen "ubernehmen wir}
    \end{itemize}
  \end{block}
\end{frame}

\begin{frame}
  \frametitle{Planung}
  \begin{enumerate}
  \item Festlegung des Projektziels
  \item Konzeptionierung:
    \begin{itemize}
    \item Verteilung
    \item Code Signierung
    \end{itemize}
  \item Implementierung eines Prototypens
  \end{enumerate}
\end{frame}

\section{Konzept}

\begin{frame}
  \frametitle{Entwurf}
  \begin{block}{Verteilung}
    \begin{itemize}
    \item Abstraktes Modell f"ur verteilte Repositories
    \item Entwurf der Datenstrukturen und Operationen
    \item Typische Anwendungsf"alle
    \end{itemize}
  \end{block}
  \begin{block}{Code Signierung}
    \begin{itemize}
    \item Workflow
    \item Trust Model
    \end{itemize}
  \end{block}
\end{frame}

\subsection{Verteiltes Versionsmanagement}
\newcommand{\STRUCT}[1]{\ensuremath{\mathnormal{#1}}}
\newcommand{\NORMAL}[1]{\ensuremath{\mbox{\textnormal{#1}}}}
\def\APPEND{:\mathrel\cdot}

\begin{frame}
  \frametitle{Strukturen}

  \begin{block}{Definition: Meta-Datenstrukturen}
    \medskip
    $\begin{array}{lccl}
      \STRUCT{repository} & r & \equiv & \{b\ |\ b : \STRUCT{branch}\} \\
      \STRUCT{branch}     & b & \equiv &
      (\beta, s),\ s : \STRUCT{change\,sequence} \\
      \STRUCT{change}     & C & \equiv &
      \STRUCT{commit}\oplus\STRUCT{merge} \\
      \STRUCT{commit}     & c & \equiv &
      (\nu, \beta, \alpha, f),\ f : \STRUCT{filename}\rightarrow
      \STRUCT{revision} \\
      \STRUCT{merge}      & m & \equiv &
      (\nu, \beta, \alpha, f, o),\ o : \STRUCT{origin} \\
      \STRUCT{origin}     & o & \equiv &
      (\nu, \beta, \alpha)      \end{array}$
  \end{block}

  \begin{block}{Beispiel: Neu angelegtes Projekt}
    \medskip
    \begin{tabular}{ll}
      $\begin{array}{lcl}
        r   &=& \{b_1\} \\
        b_1 &=& (1, \langle c_1 \rangle) \\
        c_1 &=& (1, 1, \mathsf{cvs}, f_1)
      \end{array}$ &
      $\begin{array}{lcl}
        f_1 &=& \left[
          \begin{array}{lcl}
            \mathtt{F-}a & \mapsto & \mathsf{r1.1} \\
            \mathtt{F-}b & \mapsto & \mathsf{r1.1} \\
            \mathtt{F-}c & \mapsto & \mathsf{r1.1} \\
            \mathtt{MAP} & \mapsto & \mathsf{r1.1}
          \end{array}
        \right]
      \end{array}$
    \end{tabular}
  \end{block}
\end{frame}

\begin{frame}
  \frametitle{Operationen}

  \begin{block}{Definition: Branching und Merging}
    \medskip
    Seien $b, b'$ Branches und $r=\{b, b'\}$ ein Repository mit

    $b=(\beta, \langle C_1, \ldots, C_k\rangle)$ und $b'$ analog.
    \medskip

    $\begin{array}{@{}lrcl}
    \STRUCT{branching}    & \triangledown C_i          & \equiv &
    r \leadsto r\ \cup \{b_2\}\ \NORMAL{mit} \\
                          &                            &        &
                          \begin{array}{@{}lcl}
                          b_2 &=& (\beta_2, \langle m\rangle), \\
                          m   &=& (\nu, \beta_2, \alpha, f, o), \\
                          o   &=& (\nu_i, \beta_i, \alpha_i) \\
                          \end{array} \medskip \\
    \STRUCT{merging}      & C_i \rhd C_k'              & \equiv &
    (\beta', s') \leadsto
    (\beta', s'\APPEND m)\ \NORMAL{mit} \\
                          &                            &        &
                          \begin{array}{@{}lcl}
                          m   &=& (\nu, \beta', \alpha, f, o), \\
                          o   &=& (\nu_i, \beta_i, \alpha_i) \\
                          \end{array} \\
    \end{array}$
  \end{block}
  
\end{frame}

\begin{frame}
  \frametitle{Beispiel-Vernetzung}

\end{frame}

\subsection{Code Signierung}

\begin{frame}
  \frametitle{Workflow}
  \begin{itemize}
  \item Entwickler signiert Change mit \GPG
  \item Auditor kann Code mit \GPG{} signieren
  \item Speicherung der Signaturen im Repository
  \item Verifikation der Signaturen des Codes durch Benutzer
  \item Feststellung der (pers"onlich)
    am wenigsten vertrauensw"urdigen Codezeilen
  \item M"ogliche Authentifizierung anhand des \GPG{}-Keys
  \end{itemize}

\end{frame}
\begin{frame}
  \frametitle{Trust Model}
  \begin{itemize}
  \item Bisher wird dem Rechner, auf dem das Repository liegt, vertraut
  \item Einbrecher in diesen Rechner kann beliebig Code "andern,
    ohne bemerkt zu werden
  \item Vertrauen wird vom Repository zum Rechner
    der einzelnen Entwickler "ubertragen
  \item Wenn der private Key eines Entwicklers oder Auditors
    leakt, kann dieser revoked werden
  \item Alle Signaturen bis zu diesem Zeitpunkt sind noch g"ultig
  \item Durch Web of Trust wird Leuten ein trust value zugeteilt,
    daher kann verschiedenen Leuten verschieden viel vertraut werden
  \end{itemize}
\end{frame}


\section{Implementierung}

\begin{frame}
  \frametitle{Orthoganale Entwicklung}
  \begin{columns}
    \begin{column}{5cm}
      
    \end{column}
    \begin{column}{7cm}
      \begin{block}{Orthogonaler Entwurf}
        \begin{itemize}
        \item
        \end{itemize}
      \end{block}

    \end{column}
  \end{columns}
\end{frame}

\begin{frame}
  \frametitle{Technik}
  \begin{itemize}
  \item \COMMONLISP
  \item \LIBGPGME
  \item \OSICAT
  \item \PORTPATH
  \end{itemize}
\end{frame}

\section{Zusammenfassung}

\begin{frame}
  \frametitle{Weitere Informationen}
  \begin{block}{\GENNF}
    \begin{itemize}
    \item \tt{http://gennf.berlios.de/}
    \item \tt{http://gennf.berlios.de/scratchpad.pdf}
    \end{itemize}
  \end{block}
  \begin{block}{Referenzen}
    \begin{itemize}
    \item \tt{http://www.gnupg.org/related\_software/gpgme/}
    \item \tt{http://http:users.footprints.net/\~kaz/mcvs.html}
    \item \tt{http://sbcl.sourceforge.net/}
    \end{itemize}
  \end{block}
\end{frame}

\end{document}