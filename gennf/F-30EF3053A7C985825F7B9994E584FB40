TODO
====

* Log messages are not considered.
* in-temporary-directory must ensure that directory is removed
  if non-local exit occurs. This should be the default behaviour
  but if must be possible to disable this, because sometimes
  the temporary data is required afterwards.
  Similair holds for in-directory: the old working directory has
  to be restored as current working directory in case of non-local
  exit.
* For the merging: An equality predicate which disregards differences
  in whitespace might be helpful.
* commit should offer a restart to do an update if conflicts
  occur. If the update is conflict-free, it should be offered the
  possibility to proceed with the commit or the quit.
  If the update has conflicts too, it should be quit.
* The lock-problem (cf. e-mail from Florian) is not considered in
  commit. It is assumed that the complete commit procedure
  is not interrupted by some other commit.
* When merging, proper mark up functions, which insert filenames
  and stuff, should be used.
* The whole replication stuff is not respected in any way.